{% extends 'posts/base.html' %}
{% load markdown %}

{% block title %}New Post{% endblock %}

{% block main %}
    <form class="form-group" method="POST">
        {% csrf_token %}
        <label class="form-label" for="{{ form.title.auto_id }}">{{ form.title.label }}</label>
        {{ form.title.errors }}
        {{ form.title }}
        <br />
        <label class="form-label" for="{{ form.post.auto_id }}">{{ form.post.label }}</label>
        {{ form.post }}
        {{ form.post.errors }}
        <br class="mb-4" />
        {{ form.media }}
        <button type="submit" class="btn btn-primary form-control" value="New Post">New Post</button>
    </form>
{% endblock %}

{% block scripts %}
    <script>
        const form = [
            document.getElementById("{{ form.title.auto_id }}"),
            document.getElementById("{{ form.post.auto_id }}")
        ]

        form.forEach(field => {
            field.setAttribute('class', field.getAttribute('class') + ' form-control')
        });
    </script>
{% endblock %}
